{"files":{"index.html":{"content":"<!doctype html>\n<!--\n @license\n Copyright 2022 Google LLC. All Rights Reserved.\n SPDX-License-Identifier: Apache-2.0\n-->\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <meta\n      name=\"description\"\n      content=\"Display an ad in the absence of consent for the use of cookies or other local identifiers.\"\n    />\n    <title>Display a limited ad</title>\n    <!---\n     Load GPT from the limited ads URL to enable limited ads functionality.\n    --->\n    <script async src=\"https://pagead2.googlesyndication.com/tag/js/gpt.js\"></script>\n    <script type=\"module\" src=\"./sample.js\"></script>\n    <style>\n      button::after {\n        content: \"OFF\";\n        color: red;\n        font-weight: bold;\n      }\n\n      button[data-enabled=\"true\"]::after {\n        content: \"ON\";\n        color: green;\n        font-weight: bold;\n      }\n    </style>\n  </head>\n  <body>\n    <div id=\"banner-ad\" style=\"width: 728px; height: 90px\"></div>\n    <div>\n      <button id=\"ltdButton\">Limited Ads</button>\n    </div>\n  </body>\n</html>\n"},"sample.ts":{"content":"/**\n * @license\n * Copyright 2022 Google LLC. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Using @types/google-publisher-tag\n// https://www.npmjs.com/package/@types/google-publisher-tag\n\nwindow.googletag = window.googletag || { cmd: [] };\n\ngoogletag.cmd.push(() => {\n  // Define an ad slot for div with id \"banner-ad\".\n  googletag\n    .defineSlot(\"/6355419/Travel\", [728, 90], \"banner-ad\")!\n    .setTargeting(\"test\", \"privacy\")\n    .addService(googletag.pubads());\n\n  // Enable the PubAdsService.\n  googletag.enableServices();\n\n  // Request and render an ad for the \"banner-ad\" slot.\n  googletag.display(\"banner-ad\");\n});\n\nlet ltdEnabled = false;\nfunction toggleLimitedAds(this: HTMLButtonElement) {\n  const button = this;\n\n  // Set to true to enable, false to disable.\n  ltdEnabled = !ltdEnabled;\n\n  googletag.cmd.push(() => {\n    googletag.pubads().setPrivacySettings({\n      limitedAds: ltdEnabled,\n    });\n\n    // Refresh all ads on the page.\n    googletag.pubads().refresh();\n\n    button.setAttribute(\"data-enabled\", ltdEnabled.toString());\n  });\n}\n\n// Register click event handlers.\ndocument.getElementById(\"ltdButton\")!.addEventListener(\"click\", toggleLimitedAds);\n"},"package.json":{"content":"{\"dependencies\": {\"@types/google-publisher-tag\": \"^1.0.0\"}}","hidden":true}}}