{"files":{"index.html":{"content":"<!doctype html>\n<!--\n @license\n Copyright 2022 Google LLC. All Rights Reserved.\n SPDX-License-Identifier: Apache-2.0\n-->\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <meta name=\"description\" content=\"Customize privacy settings for GPT ad requests.\" />\n    <title>Configure privacy settings</title>\n    <script async src=\"https://securepubads.g.doubleclick.net/tag/js/gpt.js\"></script>\n    <script type=\"module\" src=\"./sample.js\"></script>\n    <style>\n      button::after {\n        content: \"OFF\";\n        color: red;\n        font-weight: bold;\n      }\n\n      button[data-enabled=\"true\"]::after {\n        content: \"ON\";\n        color: green;\n        font-weight: bold;\n      }\n    </style>\n  </head>\n  <body>\n    <div id=\"banner-ad\" style=\"width: 728px; height: 90px\"></div>\n    <div>\n      <button id=\"tfcdButton\">Child Directed Treatment</button>\n      <button id=\"npaButton\">Non-personalized Ads</button>\n      <button id=\"rdpButton\">Restricted Data Processing</button>\n      <button id=\"tfuaButton\">Under Age of Consent</button>\n    </div>\n  </body>\n</html>\n"},"sample.ts":{"content":"/**\n * @license\n * Copyright 2022 Google LLC. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Using @types/google-publisher-tag\n// https://www.npmjs.com/package/@types/google-publisher-tag\n\nwindow.googletag = window.googletag || { cmd: [] };\n\ngoogletag.cmd.push(() => {\n  // Define an ad slot for div with id \"banner-ad\".\n  googletag\n    .defineSlot(\"/6355419/Travel\", [728, 90], \"banner-ad\")!\n    .setTargeting(\"test\", \"privacy\")\n    .addService(googletag.pubads());\n\n  // Enable the PubAdsService.\n  googletag.enableServices();\n\n  // Request and render an ad for the \"banner-ad\" slot.\n  googletag.display(\"banner-ad\");\n});\n\nlet tfcdEnabled = false;\nfunction toggleChildDirectedTreatment(this: HTMLButtonElement) {\n  const button = this;\n\n  // Set to true to enable, false to disable.\n  tfcdEnabled = !tfcdEnabled;\n\n  googletag.cmd.push(() => {\n    googletag.pubads().setPrivacySettings({\n      childDirectedTreatment: tfcdEnabled,\n    });\n\n    // Refresh all ads on the page.\n    googletag.pubads().refresh();\n\n    button.setAttribute(\"data-enabled\", tfcdEnabled.toString());\n  });\n}\n\nlet npaEnabled = false;\nfunction toggleNonPersonalizedAds(this: HTMLButtonElement) {\n  const button = this;\n\n  // Set to true to enable, false to disable.\n  npaEnabled = !npaEnabled;\n\n  googletag.cmd.push(() => {\n    googletag.pubads().setPrivacySettings({\n      nonPersonalizedAds: npaEnabled,\n    });\n\n    // Refresh all ads on the page.\n    googletag.pubads().refresh();\n\n    button.setAttribute(\"data-enabled\", npaEnabled.toString());\n  });\n}\n\nlet rdpEnabled = false;\nfunction toggleRestrictDataProcessing(this: HTMLButtonElement) {\n  const button = this;\n\n  // Set to true to enable, false to disable.\n  rdpEnabled = !rdpEnabled;\n\n  googletag.cmd.push(() => {\n    googletag.pubads().setPrivacySettings({\n      restrictDataProcessing: rdpEnabled,\n    });\n\n    // Refresh all ads on the page.\n    googletag.pubads().refresh();\n\n    button.setAttribute(\"data-enabled\", rdpEnabled.toString());\n  });\n}\n\nlet tfuaEnabled = false;\nfunction toggleUnderAgeOfConsent(this: HTMLButtonElement) {\n  const button = this;\n\n  // Set to true to enable, false to disable.\n  tfuaEnabled = !tfuaEnabled;\n\n  googletag.cmd.push(() => {\n    googletag.pubads().setPrivacySettings({\n      underAgeOfConsent: tfuaEnabled,\n    });\n\n    // Refresh all ads on the page.\n    googletag.pubads().refresh();\n\n    button.setAttribute(\"data-enabled\", tfuaEnabled.toString());\n  });\n}\n\n// Register click event handlers.\ndocument.getElementById(\"tfcdButton\")!.addEventListener(\"click\", toggleChildDirectedTreatment);\ndocument.getElementById(\"npaButton\")!.addEventListener(\"click\", toggleNonPersonalizedAds);\ndocument.getElementById(\"rdpButton\")!.addEventListener(\"click\", toggleRestrictDataProcessing);\ndocument.getElementById(\"tfuaButton\")!.addEventListener(\"click\", toggleUnderAgeOfConsent);\n"},"package.json":{"content":"{\"dependencies\": {\"@types/google-publisher-tag\": \"^1.0.0\"}}","hidden":true}}}